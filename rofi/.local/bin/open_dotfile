#!/usr/bin/env bash

##
#  Generate entries, where first is key.
##
function gen_entries()
{
    echo "Collecting favorites" >> ~/.tmp/open_dotfile_errors
    find ~/dotfiles | cat
    find ~/Dropbox/todo | cat
}

# Call menu
SEL=$( gen_entries | rofi -dmenu -p "Dotfiles" -a 0 -no-custom  | awk '{print $1}' )

# echo "Got selection $SEL" >> ~/.tmp/open_dotfile_errors
# echo "$SEL" >> ~/.tmp/open_dotfile_errors

emacsclient --alternate-editor='' --no-wait --create-frame --frame-parameters='(quote (name . "my-floating-title"))' --display $DISPLAY "$SEL"
